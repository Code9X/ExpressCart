@model dynamic
@{
    string currentController = ViewData["ControllerName"] as string;
    string? Action = ViewData["Action"] as string;
    int? Id = ViewData["Id"] as int?;
}

<form class="d-flex" method="get" asp-controller="@currentController" asp-action=@Action asp-route-id?=@Id>
    <input type="hidden" name="categoryId" value="@Id" />
    <input type="hidden" name="category" value="@Action" />

    <div style="margin-left:20px;font-size:20px" class="input-group">
        @if (!string.IsNullOrEmpty(ViewBag.SearchTerm))
        {
            <input style="width:200px" class="form-control me-2" type="search" placeholder="Search" aria-label="Search" name="searchTerm" value="@ViewBag.SearchTerm">
        }
        else
        {
            <input style="width:200px" class="form-control me-2" type="search" placeholder="Search" aria-label="Search" name="searchTerm">
        }
        <button class="btn" type="submit">
            <i class="bi bi-search"></i>
        </button>
    </div>
</form>